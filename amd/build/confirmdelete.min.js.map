{"version":3,"file":"confirmdelete.min.js","sources":["../src/confirmdelete.js"],"sourcesContent":[" define([\n    'jquery',\n    'core/ajax',\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/notification'\n ], function($, Ajax, str, ModalFactory, ModalEvents) {\n        $('.delete-btn').on('click', function() {\n            let elementId = $(this).attr('id');\n            let arr = elementId.split(\"-\");\n            let markId = arr[arr.length - 1];\n            ModalFactory.create({\n                type: ModalFactory.types.SAVE_CANCEL,\n                title: str.get_string('deletetitle', 'local_marksheet', '', ''),\n                body: str.get_string('modalmessage', 'local_marksheet', '', '')\n            }).then(function(modal) {\n                modal.setSaveButtonText(str.get_string('delete', 'local_marksheet', '', ''));\n                let root = modal.getRoot();\n                root.on(ModalEvents.save, function() {\n                    let wsfunction = 'local_marksheet_delete_mark_by_id';\n                    let params = {\n                        'markid': markId,\n                    };\n                    let request = {\n                        methodname: wsfunction,\n                        args: params\n                    };\n                    Ajax.call([request])[0].done(function() {\n                        window.location.href = $(location).attr('href');\n                    }).fail(function() {\n                        window.location.href = $(location).attr('href');\n                    });\n                });\n                modal.show();\n            });\n        });\n });"],"names":["define","$","Ajax","str","ModalFactory","ModalEvents","on","arr","this","attr","split","markId","length","create","type","types","SAVE_CANCEL","title","get_string","body","then","modal","setSaveButtonText","getRoot","save","request","methodname","args","call","done","window","location","href","fail","show"],"mappings":"AAACA,uCAAO,CACJ,SACA,YACA,WACA,qBACA,oBACA,sBACA,SAASC,EAAGC,KAAMC,IAAKC,aAAcC,aACjCJ,EAAE,eAAeK,GAAG,SAAS,eAErBC,IADYN,EAAEO,MAAMC,KAAK,MACTC,MAAM,KACtBC,OAASJ,IAAIA,IAAIK,OAAS,GAC9BR,aAAaS,OAAO,CAChBC,KAAMV,aAAaW,MAAMC,YACzBC,MAAOd,IAAIe,WAAW,cAAe,kBAAmB,GAAI,IAC5DC,KAAMhB,IAAIe,WAAW,eAAgB,kBAAmB,GAAI,MAC7DE,MAAK,SAASC,OACbA,MAAMC,kBAAkBnB,IAAIe,WAAW,SAAU,kBAAmB,GAAI,KAC7DG,MAAME,UACZjB,GAAGD,YAAYmB,MAAM,eAKlBC,QAAU,CACVC,WALa,oCAMbC,KALS,QACChB,SAMdT,KAAK0B,KAAK,CAACH,UAAU,GAAGI,MAAK,WACzBC,OAAOC,SAASC,KAAO/B,EAAE8B,UAAUtB,KAAK,WACzCwB,MAAK,WACJH,OAAOC,SAASC,KAAO/B,EAAE8B,UAAUtB,KAAK,cAGhDY,MAAMa"}